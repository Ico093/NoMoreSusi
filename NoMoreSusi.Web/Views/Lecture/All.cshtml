@model System.Collections.Generic.List<NoMoreSusi.Web.ViewModels.Lectures.LectureViewModel>

@{
	ViewBag.Title = "All Lectures";
}

<h2>@ViewBag.Title</h2>

@{
	var roomsRows = Model.Count / 4;

	if (Model.Count % 4 != 0)
	{
		roomsRows += 1;
	}

}

@for (int i = 0; i < roomsRows; i++)
{
	<div class="row">
		@for (int j = 0; j < 4; j++)
		{
			if (4 * i + j == Model.Count)
			{
				break;
			}

			var currentModel = Model[4 * i + j];

			<div class="col-sm-4">
				<div class="row">
					<p>Name: @currentModel.Name</p>
					<p>Day: @currentModel.Day</p>
					<p>Hour: @currentModel.Hour</p>
					<p>Length: @currentModel.Length</p>
					<p>Room: @currentModel.Room.Number</p>

					@using (Html.BeginForm("Delete", "Lecture", new { id = currentModel.Id }, FormMethod.Post, new { id = "deleteRoomForm" }))
					{
						@Html.AntiForgeryToken()
						@Html.ActionLink("Edit", "Edit", "Lecture", new { id = currentModel.Id }, new { @class = "btn btn-primary" })
						<input id="deleteBtn" type="button" name="name" value="Delete" class="btn btn-danger" />
					}
				</div>
			</div>
		}
	</div>
}

@section scripts
{
	<script>
	$("#deleteBtn").on("click", function() {
		if (confirm("Are you sure you want to delete this room?")) {
			$("#deleteRoomForm").submit();
		}
	});
	</script>
}
